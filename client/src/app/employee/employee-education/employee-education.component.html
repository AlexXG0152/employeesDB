<div class="table-responsive">
  <div class="persData">
    <h2>EDUCATION RECORDS</h2>
    <div class="persData">
      <h3>{{employeePersonalData?.lastName}} {{employeePersonalData?.firstName}} {{employeePersonalData?.fatherName}}</h3>
      <h4>DEPARTMENT</h4>
      <h4>POSITION</h4>
    </div>
  </div>
  <div class="add-record">
    <button type="button" class="btn btn-success mb-2 float-end" (click)="openPopup()">Add record</button>
  </div>
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th scope="col">Type</th>
        <th scope="col">Level</th>
        <th scope="col">CenterName</th>
        <th scope="col">Profile</th>
        <th scope="col">Degree</th>
        <th scope="col">DateEnd</th>
        <th scope="col">Diploma #</th>
        <th scope="col">DiplomaDate</th>
        <th scope="col" *ngIf="showModeratorBoard">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of employeeEducationData;" [ngClass]="{ 'selected': data.selected }">
        <td *ngIf="!data.editable">{{data.educationType}}</td>
        <td *ngIf="data.editable">educationType<input type="text" [(ngModel)]="data.educationType" /></td>
        <td *ngIf="!data.editable">{{data.educationLevel}}</td>
        <td *ngIf="data.editable">educationLevel<input type="text" [(ngModel)]="data.educationLevel" /></td>
        <td *ngIf="!data.editable">{{data.educationCenterName}}</td>
        <td *ngIf="data.editable">educationCenterName<input type="text" [(ngModel)]="data.educationCenterName" /></td>
        <td *ngIf="!data.editable">{{data.educationProfile}}</td>
        <td *ngIf="data.editable">educationProfile<input type="text" [(ngModel)]="data.educationProfile" /></td>
        <td *ngIf="!data.editable">{{data.educationDegree}}</td>
        <td *ngIf="data.editable">educationDegree<input type="text" [(ngModel)]="data.educationDegree" /></td>
        <td *ngIf="!data.editable">{{data.educationDateEnd}}</td>
        <td *ngIf="data.editable">educationDateEnd<input type="text" [(ngModel)]="data.educationDateEnd" /></td>
        <td *ngIf="!data.editable">{{data.educationDiplomaNumber}}</td>
        <td *ngIf="data.editable">educationDiplomaNumber<input type="text" [(ngModel)]="data.educationDiplomaNumber" />
        </td>
        <td *ngIf="!data.editable">{{data.educationDiplomaDate}}</td>
        <td *ngIf="data.editable">educationDiplomaDate<input type="text" [(ngModel)]="data.educationDiplomaDate" /></td>
        <td *ngIf="showModeratorBoard" class="actionButtons">
          <button type="button" class="btn btn-outline-success btn-sm" (click)="makeEditable(data._id)"
            *ngIf="!data.editable">Edit</button>
          <button type="submit" class="btn btn-outline-success btn-sm" (click)="saveData(data)"
            *ngIf="data.editable">Save</button>
          <button type="button" class="btn btn-outline-danger btn-sm" (click)="cancel()"
            *ngIf="data.editable">Cancel</button>
          <button type="button" class="btn btn-outline-danger btn-sm" (click)="deleteData(data._id)"
            *ngIf="!data.editable">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayStyle}">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closePopup()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Modal body text goes here.</p>
        <div class="row">
          <div >
            <form [formGroup]="employeeEducationForm" class="column" (ngSubmit)="createRecord()">
              <label for="educationType">educationType: </label>
              <input id="educationType" type="text" formControlName="educationType">
              <label for="educationLevel">educationLevel</label>
              <input id="educationLevel" type="text" formControlName="educationLevel">
              <label for="educationCenterName">educationCenterName: </label>
              <input id="educationCenterName" type="text" formControlName="educationCenterName">
              <label for="educationProfile">educationProfile: </label>
              <input id="educationProfile" type="text" formControlName="educationProfile">
              <label for="educationDegree">educationDegree: </label>
              <input id="educationDegree" type="text" formControlName="educationDegree">
              <label for="educationDateEnd">educationDateEnd: </label>
              <input id="educationDateEnd" type="text" formControlName="educationDateEnd">
              <label for="educationDiplomaNumber">educationDiplomaNumber: </label>
              <input id="educationDiplomaNumber" type="text" formControlName="educationDiplomaNumber">
              <label for="educationDiplomaDate">educationDiplomaDate: </label>
              <input id="educationDiplomaDate" type="text" formControlName="educationDiplomaDate">
            </form>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="createRecord()" [disabled]="!employeeEducationForm.valid">Save changes</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="closePopup()">Close</button>
      </div>
    </div>
  </div>
</div>

<router-outlet></router-outlet>
